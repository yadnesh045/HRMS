@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AdminLTE 3 | Project Add</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/dist/css/adminlte.min.css">



    <!-- daterange picker -->
    <link href="~/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" />




    <!-- iCheck for checkboxes and radio inputs -->
    <link href="~/plugins/icheck-bootstrap/icheck-bootstrap.min.css" rel="stylesheet" />



    <!-- Bootstrap Color Picker -->
    <link href="~/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />


    <!-- Tempusdominus Bootstrap 4 -->
    <link href="~/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />



    <!-- Select2 -->
    <link href="~/plugins/select2/css/select2.min.css" rel="stylesheet" />

    <link href="~/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css" rel="stylesheet" />

    <!-- Bootstrap4 Duallistbox -->
    <link href="~/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css" rel="stylesheet" />

    <!-- BS Stepper -->
    <link href="~/plugins/bs-stepper/css/bs-stepper.min.css" rel="stylesheet" />

    <!-- dropzonejs -->
    <link href="~/plugins/dropzone/min/dropzone.min.css" rel="stylesheet" />



</head>
<body class="hold-transition sidebar-mini">
    <!-- Site wrapper -->
    <div class="wrapper">
        <!-- Navbar -->
        <partial name="_Navbar" />
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <!-- Brand Logo -->
            <a href="../../index3.html" class="brand-link">
                <img src="../../dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
                <span class="brand-text font-weight-light">AdminLTE 3</span>
            </a>

            <!-- Sidebar -->

            <div>
                <!-- Sidebar Menu -->
                <partial name="_Sidebar" />
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <section class="content">


            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <div class="container-fluid">
                        <div class="row mb-2">
                            <div class="col-sm-6">
                                <h1> Add new Employee</h1>
                            </div>
                            <div class="col-sm-6">
                                <ol class="breadcrumb float-sm-right">
                                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                                    <li class="breadcrumb-item active">Add New Employee</li>
                                </ol>
                            </div>
                        </div>
                    </div><!-- /.container-fluid -->
                </section>



                <!-- Main content -->

                <form id="employeeForm">

                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-default">
                                <div class="card-body p-0">


                                    <div class="bs-stepper">

                                        <div class="bs-stepper-header" role="tablist">

                                            <div class="step" data-target="#personal-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="personal-part" id="personal-part-trigger">
                                                    <span class="bs-stepper-circle">1</span>
                                                    <span class="bs-stepper-label">Personal Information</span>
                                                </button>
                                            </div>

                                            <div class="line"></div>

                                            <div class="step" data-target="#education-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="education-part" id="education-part-trigger">
                                                    <span class="bs-stepper-circle">2</span>
                                                    <span class="bs-stepper-label">Educational Information</span>
                                                </button>
                                            </div>

                                            <div class="line"></div>


                                            <div class="step" data-target="#current-work-info-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="current-work-info-part" id="current-work-info-part-trigger">
                                                    <span class="bs-stepper-circle">3</span>
                                                    <span class="bs-stepper-label">Current Work Info</span>
                                                </button>
                                            </div>

                                           
                                            <div class="line"></div>

                                            <div class="step" data-target="#documents-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="documents-part" id="documents-part-trigger">
                                                    <span class="bs-stepper-circle">4</span>
                                                    <span class="bs-stepper-label">Documents</span>
                                                </button>
                                            </div>

                                            <div class="line"></div>

                                            <div class="step" data-target="#work-experience-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="work-experience-part" id="work-experience-part-trigger">
                                                    <span class="bs-stepper-circle">5</span>
                                                    <span class="bs-stepper-label">Work Experience</span>
                                                </button>
                                            </div>

                                            <div class="line"></div>

                                            <div class="step" data-target="#bank-details-part">
                                                <button type="button" class="step-trigger" role="tab" aria-controls="bank-details-part" id="bank-details-part-trigger">
                                                    <span class="bs-stepper-circle">6</span>
                                                    <span class="bs-stepper-label">Bank Details</span>
                                                </button>
                                            </div>

                                        </div>

                                        <div class="bs-stepper-content">

                                            <!-- Personal Information -->
                                            <div id="personal-part" class="content" role="tabpanel" aria-labelledby="personal-part-trigger">
                                                <div class="form-group">
                                                    <label for="fullName">Full Name</label>
                                                    <input type="text" class="form-control" id="fullName" placeholder="Enter Full Name" name="FullName">
                                                </div>

                                                <div class="form-group">
                                                    <label for="email">Enter Email</label>
                                                    <input type="email" class="form-control" id="email" placeholder="Enter Email " name="Email">
                                                </div>

                                                <div class="form-group">
                                                    <label>Mobile Number</label>
                                                    <input type="text" class="form-control" id="mobileNumber" placeholder="Enter Mobile Number" name="Contact">
                                                </div>


                                                <div class="form-group">
                                                    <label>Date of Birth</label>
                                                    <input type="date" class="form-control" id="dob" name="DateOfBirth">
                                                </div>
                                                <div class="form-group">
                                                    <label>Aadhar Number</label>
                                                    <input type="text" class="form-control" id="aadharNumber" placeholder="Enter Aadhar Number" name="AadharNumber">
                                                </div>
                                                <div class="form-group">
                                                    <label>PAN Card Number</label>
                                                    <input type="text" class="form-control" id="panCardNumber" placeholder="Enter PAN Card Number" name="PancardNumber">
                                                </div>

                                                <div class="form-group">
                                                    <label>Address</label>
                                                    <input type="text" class="form-control" id="address" placeholder="Enter Address" name="Address">
                                                </div>


                                                <button class="btn btn-primary" type="button" onclick="nextStep()">Next</button>
                                            </div>

                                            <!-- Educational Information -->
                                            <div id="education-part" class="content" role="tabpanel" aria-labelledby="education-part-trigger">

                                                <div class="form-group">
                                                    <label>Bachelors Specilization</label>
                                                    <input type="text" class="form-control" id="bachelorseducation" placeholder="Enter Bachelors Specilization" name="BachelorsEducation">
                                                </div>

                                                <div class="form-group">
                                                    <label>Bachelors College</label>
                                                    <input type="text" class="form-control" id="bachelorscollege" placeholder="Enter Bachelors College" name="BachelorsUniversity">
                                                </div>


                                                <div class="input-group mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Upload Bachelors Certificate</span>
                                                    </div>
                                                    <div class="custom-file">
                                                        <input type="file" class="custom-file-input" id="bachelorsCertificate" name="BachelorsCertificate" onchange="updateFileName(this, 'bachelorscertificate')">
                                                        <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                                        <p id="bachelorscertificate"></p>

                                                    </div>
                                                </div>




                                                <div class="form-group">
                                                    <label>Bachelors CGPA</label>
                                                    <input type="text" class="form-control" id="bachelorsCgpa" placeholder="Enter Bachelors CGPA" name="BachelorsPercentage">
                                                </div>

                                                <div class="form-group">
                                                    <label>Masters Specilization</label>
                                                    <input type="text" class="form-control" id="masterseducation" placeholder="Enter Masters Specilization" name="MastersEducation">
                                                </div>

                                                <div class="form-group">
                                                    <label>Masters College</label>
                                                    <input type="text" class="form-control" id="masterscollege" placeholder="Enter Masters College" name="MastersUniversity">
                                                </div>








                                                <div class="input-group mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">Upload Masters Certificate</span>
                                                    </div>
                                                    <div class="custom-file">
                                                        <input type="file" class="custom-file-input" id="mastersCertificate" name="MastersCertificate" onchange="updateFileName(this, 'masterscertificate')">
                                                        <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                                        <p id="masterscertificate"></p>

                                                    </div>
                                                </div>











                                                <div class="form-group">
                                                    <label>Masters CGPA</label>
                                                    <input type="text" class="form-control" id="mastersCgpa" placeholder="Enter Masters CGPA" name="MastersPercentage">
                                                </div>
                                                <button class="btn btn-primary" type="button" onclick="previousStep()">Previous</button>
                                                <button class="btn btn-primary" type="button" onclick="nextStep()">Next</button>
                                            </div>

                                            <!-- Current Work Info -->
                                            <div id="current-work-info-part" class="content" role="tabpanel" aria-labelledby="current-work-info-part-trigger">

                                                <div class="form-group">
                                                    <label for="role">Role</label>
                                                    <select class="form-control" id="role" name="Role">
                                                        @foreach (var role in ViewBag.Roles)
                                                        {
                                                            <option value="@role.RoleName">@role.RoleName</option>
                                                        }
                                                    </select>
                                                </div>



                                                <div class="form-group">
                                                    <label>Job Description</label>
                                                    <input type="text" class="form-control" id="jobDescription" placeholder="Enter Job Description" name="JobDescription">
                                                </div>



                                                <div class="form-group">
                                                    <label>Current CTC</label>
                                                    <input type="text" class="form-control" id="currentCTC" placeholder="Enter Current CTC " name="CurrentCTC">
                                                </div>

                                                <div class="form-group">
                                                    <label>Current House Rent Allowance </label>
                                                    <input type="text" class="form-control" id="currentHRA" placeholder="Enter Current House Rent Allowance" name="HouseRentAllowance">
                                                </div>


                                                <div class="form-group">
                                                    <label>Current Travel Allowance </label>
                                                    <input type="text" class="form-control" id="currentTA" placeholder="Enter Current  Travel Allowance" name="TravelAllowance">
                                                </div>

                                                <div class="form-group">
                                                    <label>Current Special Allowance </label>
                                                    <input type="text" class="form-control" id="currentSA" placeholder="Enter Current Special Allowance" name="SpecialAllowance">
                                                </div>



                                                <button class="btn btn-primary" type="button" onclick="previousStep()">Previous</button>
                                                <button class="btn btn-primary" type="button" onclick="nextStep()">Next</button>
                                            </div>



                                            <!-- Documents -->
                                            <div id="documents-part" class="content" role="tabpanel" aria-labelledby="documents-part-trigger">



                                                <div>
                                                    <label for="photo">Upload Photo</label>
                                                    <div class="input-group mb-3">
                                                        <div class="custom-file">
                                                            <input type="file" class="custom-file-input" id="photo" name="Photo" onchange="updateFileName(this, 'photo')" />
                                                            <label class="custom-file-label" for="customFile">Choose Photo </label>
                                                            <p id="photo"></p>
                                                        </div>

                                                    </div>
                                                </div>



                                                <div>

                                                    <label for="resume">Upload Resume</label>
                                                    <div class="input-group mb-3">


                                                        <div class="custom-file">

                                                            <input type="file" class="custom-file-input" id="resume" name="Resume" onchange="updateFileName(this, 'resume')" />

                                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                                            <p id="resume"></p>
                                                        </div>
                                                    </div>
                                                </div>





                                                <div>

                                                    <label for="aadhar">Upload Aadhar Card</label>

                                                    <div class="input-group mb-3">


                                                        <div class="custom-file">
                                                            <input type="file" class="custom-file-input" id="aadhar" name="AadharCard" onchange="updateFileName(this, 'aadhar')" />

                                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                                            <p id="aadhar"></p>

                                                        </div>
                                                    </div>
                                                </div>




                                                <button class="btn btn-primary" type="button" onclick="previousStep()">Previous</button>
                                                <button class="btn btn-primary" type="button" onclick="nextStep()">Next</button>
                                            </div>



                                            <!-- Work Experience -->
                                            <div id="work-experience-part" class="content" role="tabpanel" aria-labelledby="work-experience-part-trigger">
                                                <div class="form-group">
                                                    <label>Previous Organization</label>
                                                    <input type="text" class="form-control" id="previousOrganization" placeholder="Enter Previous Organization" name="PreviousCompanyName">
                                                </div>
                                                <div class="form-group">
                                                    <label>Designation</label>
                                                    <input type="text" class="form-control" id="designation" placeholder="Enter Designation" name="PreviousCompanyJobTitle">
                                                </div>
                                                <div class="form-group">
                                                    <label>Date of Joining</label>
                                                    <input type="date" class="form-control" id="joiningDate" name="PreviousCompanyJoiningDate">
                                                </div>
                                                <div class="form-group">
                                                    <label>Date of Relieving</label>
                                                    <input type="date" class="form-control" id="relievingDate" name="PreviousCompanyLeavingDate">
                                                </div>

                                                <div class="form-group">
                                                    <label>Previous Company CTC</label>
                                                    <input type="text" class="form-control" id="previouscompanyctc" name="PreviousCompanyCTC">
                                                </div>


                                                <button class="btn btn-primary" type="button" onclick="previousStep()">Previous</button>
                                                <button class="btn btn-primary" type="button" onclick="nextStep()">Next</button>
                                            </div>




                                           

                                            <!-- Bank Details -->
                                            <div id="bank-details-part" class="content" role="tabpanel" aria-labelledby="bank-details-part-trigger">
                                                <div class="form-group">
                                                    <label>Account Holder Name</label>
                                                    <input type="text" class="form-control" id="accountholdername" placeholder="Enter Account Holder Name" name="AccountHolderName">
                                                </div>
                                                <div class="form-group">
                                                    <label>Bank Name</label>
                                                    <input type="text" class="form-control" id="bankName" placeholder="Enter Bank Name" name="BankName">
                                                </div>

                                                <div class="form-group">
                                                    <label>Bank Branch Name</label>
                                                    <input type="text" class="form-control" id="bankBranch" placeholder="Enter Bank Branch Name" name="BranchName">
                                                </div>


                                                <div class="form-group">
                                                    <label>Account Number</label>
                                                    <input type="text" class="form-control" id="accountNumber" placeholder="Enter Account Number" name="AccountNumber">
                                                </div>
                                                <div class="form-group">
                                                    <label>IFSC Code</label>
                                                    <input type="text" class="form-control" id="ifscCode" placeholder="Enter IFSC Code" name="IFSCCode">
                                                </div>
                                                <button class="btn btn-primary" type="button" onclick="previousStep()">Previous</button>
                                                <button class="btn btn-primary" type="button" onclick="submitForm()">Submit</button>

                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>


        </section>



















        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <partial name="_Footer" />

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
    </div>



    <!-- ./wrapper -->
    <!-- jQuery -->
    <script src="~/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="~/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- AdminLTE App -->
    <script src="~/dist/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="~/dist/js/demo.js"></script>



    <!-- Select2 -->
    <script src="~/plugins/select2/js/select2.full.min.js"></script>
    <!-- Bootstrap4 Duallistbox -->
    <script src="~/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>

    <!-- InputMask -->
    <script src="~/plugins/moment/moment.min.js"></script>

    <script src="~/plugins/inputmask/jquery.inputmask.min.js"></script>

    <!-- date-range-picker -->
    <script src="~/plugins/daterangepicker/daterangepicker.js"></script>

    <!-- bootstrap color picker -->
    <script src="~/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>


    <!-- Tempusdominus Bootstrap 4 -->
    <script src="~/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Bootstrap Switch -->
    <script src="~/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>

    <!-- BS-Stepper -->
    <script src="~/plugins/bs-stepper/js/bs-stepper.min.js"></script>

    <!-- dropzonejs -->
    <script src="~/plugins/dropzone/min/dropzone.min.js"></script>

    <!-- AdminLTE for demo purposes -->
    <script src="~/dist/js/demo.js"></script>

    <!-- bs-custom-file-input -->
    <script src="~/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <!-- Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <!-- Tempus Dominus Bootstrap 4 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/js/tempusdominus-bootstrap-4.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


    <!-- Page specific script -->
    <script>



        $(function () {
            //Initialize Select2 Elements
            $('.select2').select2()

            //Initialize Select2 Elements
            $('.select2bs4').select2({
                theme: 'bootstrap4'
            })

            //Datemask dd/mm/yyyy
            $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
            //Datemask2 mm/dd/yyyy
            $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
            //Money Euro
            $('[data-mask]').inputmask()

            //Date picker
            $('#reservationdate').datetimepicker({
                format: 'L'
            });


            $('#start-date').datetimepicker({
                format: 'L'
            });

            $('#end-date').datetimepicker({
                format: 'L'
            });


            //Bootstrap Duallistbox
            $('.duallistbox').bootstrapDualListbox()

            //Colorpicker
            $('.my-colorpicker1').colorpicker()
            //color picker with addon
            $('.my-colorpicker2').colorpicker()

            $('.my-colorpicker2').on('colorpickerChange', function (event) {
                $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
            })

            $("input[data-bootstrap-switch]").each(function () {
                $(this).bootstrapSwitch('state', $(this).prop('checked'));
            })

        })
        // BS-Stepper Init
        document.addEventListener('DOMContentLoaded', function () {
            window.stepper = new Stepper(document.querySelector('.bs-stepper'))
        })

        // DropzoneJS Demo Code Start
        Dropzone.autoDiscover = false

        // Get the template HTML and remove it from the doumenthe template HTML and remove it from the doument
        var previewNode = document.querySelector("#template")
        previewNode.id = ""
        var previewTemplate = previewNode.parentNode.innerHTML
        previewNode.parentNode.removeChild(previewNode)

        var myDropzone = new Dropzone(document.body, { // Make the whole body a dropzone
            url: "/target-url", // Set the url
            thumbnailWidth: 80,
            thumbnailHeight: 80,
            parallelUploads: 20,
            previewTemplate: previewTemplate,
            autoQueue: false, // Make sure the files aren't queued until manually added
            previewsContainer: "#previews", // Define the container to display the previews
            clickable: ".fileinput-button" // Define the element that should be used as click trigger to select files.
        })

        myDropzone.on("addedfile", function (file) {
            // Hookup the start button
            file.previewElement.querySelector(".start").onclick = function () { myDropzone.enqueueFile(file) }
        })

        // Update the total progress bar
        myDropzone.on("totaluploadprogress", function (progress) {
            document.querySelector("#total-progress .progress-bar").style.width = progress + "%"
        })



    </script>


    <script>
        function updateFileName(inputElement, fileNameElementId) {
            var fileName = inputElement.files[0].name;
            document.getElementById(fileNameElementId).innerText = fileName;
        }




    </script>

    <script>

        const stepper = new Stepper(document.querySelector('.bs-stepper'));

        function nextStep() {
            stepper.next();
        }

        function previousStep() {
            stepper.previous();
        }




        function submitForm() {
            const formData = new FormData(document.getElementById('employeeForm'));
            
            fetch('/Home/adduser', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                       // console.log('Form submitted successfully!');
                        //alert('Form submitted successfully!');
                        window.location.href = '/Home/Index';
                    } else {
                        console.log('Failed to submit the form:', data.error);
                        alert('Failed to submit the form: ' + data.error);
                    }
                })
                .catch(error => {
                    console.error('Error submitting the form:', error);
                    alert('Error submitting the form: ' + error.message);
                });
        }


        $(document).ready(function () {
            $('#role').change(function () {
                var selectedRole = $(this).val();
                if (selectedRole == 'Intern') {
                    $('#currentCTC, #currentHRA, #currentSA, #currentTA, #isPFHolder, #isHealthInsuranceHolder,#accountholdername , #bankName, #bankBranch, #accountNumber ,#ifscCode, #previousOrganization, #designation,#joiningDate,#relievingDate,#previouscompanyctc').prop('disabled', true);
                } else {
                    $('#currentCTC, #currentHRA, #currentSA, #currentTA, #isPFHolder, #isHealthInsuranceHolder,#accountholdername , #bankName, #bankBranch, #accountNumber ,#ifscCode, #previousOrganization, #designation,#joiningDate,#relievingDate,#previouscompanyctc').prop('disabled', false);
                }
            });
        });



        $(document).ready(function () {
            $('#role').change(function () {
                if ($(this).val() === 'Intern') {
                    $('#jobDescription').val('New Intern joining');
                }
            });
        });





    </script>



</body>
</html>
